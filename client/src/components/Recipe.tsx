import * as React from 'react';
import { Link } from 'react-router-dom';
import Rating from './Rating';
import './styles/recipe.css';

const Recipe = ({
  id,
  entityId,
  title,
  summary,
  prepTime,
  cookTime,
  authorName,
  author,
  mainImage,
  ingredients,
  directions,
  avgRating,
  userRating,
  ratingCount,
  isPreview = false,
  isOwner = false,
  onPreviewClose = null,
}: {
  id: string;
  entityId: string;
  title: string;
  summary: string;
  prepTime: string;
  cookTime: string;
  authorName: string;
  author: number;
  mainImage: string;
  ingredients: string;
  directions: string;
  avgRating: number;
  userRating: number;
  ratingCount: number;
  isPreview: boolean;
  isOwner: boolean;
  onPreviewClose?: Function | null;
}) => {
  const [userControls, setUserControls] = React.useState<boolean>(false);

  return (
    <div className="recipe__wrapper">
      <header className="recipe__header">
        {isPreview && onPreviewClose ? (
          <button
            className="recipe__preview"
            type="button"
            onClick={() => onPreviewClose()}
          >
            This is a preview of your recipe
            <div>Click here to go back</div>
          </button>
        ) : null}

        {isOwner && !isPreview ? (
          <div className="recipe__controls">
            <button
              className="recipe__toggle"
              type="button"
              onClick={() => setUserControls(!userControls)}
            >
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                width="593.182px"
                height="593.183px"
                viewBox="0 0 593.182 593.183"
              >
                <g>
                  <g>
                    <path
                      d="M19.903,229.236C7.391,243.692,0.5,262.183,0.5,281.302v30.58c0,19.119,6.891,37.61,19.403,52.066
                  c10.424,12.043,24.178,20.628,39.419,24.743c1.378,3.548,2.836,7.065,4.373,10.548c-7.868,13.688-11.525,29.485-10.379,45.373
                  c1.375,19.069,9.577,37.017,23.097,50.536l21.623,21.623c7.553,7.554,16.388,13.419,26.258,17.436
                  c9.57,3.894,19.667,5.867,30.01,5.867c14.087,0,27.627-3.634,39.654-10.58c3.479,1.534,6.992,2.99,10.535,4.367
                  c4.115,15.241,12.699,28.994,24.742,39.418c14.457,12.513,32.948,19.403,52.066,19.403h30.581
                  c19.119,0,37.609-6.891,52.066-19.403c12.043-10.424,20.627-24.178,24.742-39.418c3.543-1.377,7.055-2.833,10.535-4.367
                  c12.027,6.946,25.566,10.58,39.654,10.58c10.344,0,20.439-1.974,30.01-5.867c9.869-4.017,18.705-9.882,26.258-17.436
                  l21.623-21.624c13.52-13.519,21.723-31.467,23.098-50.536c1.145-15.888-2.512-31.685-10.379-45.372
                  c1.535-3.483,2.994-7.001,4.371-10.548c15.242-4.116,28.996-12.7,39.42-24.743c12.512-14.457,19.402-32.947,19.402-52.067v-30.58
                  c0-19.119-6.891-37.61-19.402-52.066c-10.424-12.043-24.178-20.627-39.42-24.743c-1.377-3.546-2.836-7.065-4.373-10.548
                  c7.869-13.688,11.525-29.485,10.381-45.373c-1.375-19.07-9.578-37.017-23.098-50.536l-21.623-21.624
                  c-7.553-7.553-16.389-13.419-26.258-17.435c-9.57-3.894-19.668-5.868-30.01-5.868c-14.088,0-27.627,3.634-39.654,10.58
                  c-3.479-1.534-6.992-2.99-10.535-4.367c-4.115-15.241-12.699-28.995-24.742-39.419C349.491,7.391,331,0.5,311.881,0.5h-30.58
                  c-19.119,0-37.611,6.891-52.067,19.403c-12.042,10.423-20.626,24.178-24.742,39.419c-3.543,1.377-7.056,2.833-10.535,4.367
                  c-12.027-6.946-25.567-10.58-39.653-10.58c-10.343,0-20.44,1.974-30.01,5.867c-9.871,4.016-18.705,9.882-26.259,17.435
                  L76.413,98.034c-13.52,13.52-21.722,31.467-23.097,50.537c-1.146,15.888,2.511,31.685,10.379,45.373
                  c-1.536,3.483-2.995,7-4.373,10.548C44.081,208.609,30.327,217.192,19.903,229.236z M82.278,243.838
                  c5.778-0.867,10.569-4.947,12.314-10.523c3.794-12.125,8.649-23.78,14.457-34.858c2.703-5.156,2.163-11.416-1.296-16.098
                  l-4.503-6.094c-10.917-14.618-9.446-35.036,3.456-47.938l21.623-21.623c7.117-7.117,16.52-10.756,25.976-10.755
                  c7.686,0,15.407,2.405,21.961,7.3l6.095,4.503c2.688,1.986,5.897,3.01,9.119,3.01c2.389,0,4.784-0.563,6.979-1.714
                  c11.078-5.808,22.733-10.663,34.858-14.457c5.577-1.745,9.656-6.535,10.523-12.314l1.124-7.484
                  c2.617-18.057,18.095-31.453,36.34-31.453h30.58c18.246,0,33.723,13.396,36.34,31.453l1.125,7.484
                  c0.867,5.778,4.945,10.569,10.523,12.314c12.125,3.794,23.779,8.649,34.857,14.457c2.195,1.151,4.59,1.714,6.979,1.714
                  c3.221,0,6.43-1.024,9.119-3.01l6.094-4.503c6.555-4.896,14.275-7.3,21.963-7.3c9.453,0,18.859,3.64,25.975,10.755l21.623,21.623
                  c12.902,12.902,14.373,33.319,3.457,47.938l-4.504,6.094c-3.459,4.683-4,10.942-1.297,16.098
                  c5.809,11.077,10.664,22.733,14.457,34.858c1.746,5.576,6.535,9.655,12.314,10.523l7.484,1.124
                  c18.057,2.617,31.453,18.095,31.453,36.34v30.58c0,18.245-13.396,33.724-31.453,36.341l-7.484,1.123
                  c-5.777,0.867-10.568,4.947-12.314,10.523c-3.793,12.125-8.648,23.78-14.457,34.857c-2.703,5.156-2.162,11.416,1.297,16.099
                  l4.504,6.094c10.916,14.619,9.445,35.036-3.457,47.938l-21.623,21.623c-7.117,7.117-16.52,10.756-25.975,10.756
                  c-7.686,0-15.408-2.405-21.963-7.3l-6.094-4.503c-2.689-1.986-5.896-3.011-9.119-3.011c-2.389,0-4.783,0.563-6.979,1.715
                  c-11.078,5.808-22.732,10.662-34.857,14.456c-5.578,1.745-9.656,6.536-10.523,12.314l-1.125,7.484
                  c-2.615,18.056-18.094,31.453-36.34,31.453h-30.58c-18.246,0-33.724-13.397-36.341-31.453l-1.124-7.484
                  c-0.867-5.778-4.947-10.569-10.523-12.314c-12.125-3.794-23.78-8.648-34.858-14.456c-2.196-1.151-4.59-1.715-6.979-1.715
                  c-3.221,0-6.43,1.024-9.119,3.011l-6.094,4.503c-6.555,4.896-14.274,7.3-21.962,7.3c-9.455,0-18.859-3.64-25.976-10.756
                  l-21.623-21.623c-12.902-12.901-14.374-33.318-3.456-47.938l4.503-6.094c3.459-4.683,4-10.942,1.296-16.099
                  c-5.808-11.077-10.663-22.732-14.457-34.857c-1.745-5.576-6.536-9.655-12.314-10.523l-7.484-1.123
                  c-18.057-2.617-31.453-18.096-31.453-36.341v-30.58c0-18.246,13.396-33.724,31.453-36.34L82.278,243.838z"
                    />
                    <path
                      d="M311.881,593.183h-30.581c-19.239,0-37.847-6.935-52.394-19.525c-12.049-10.429-20.631-24.055-24.832-39.421
                    c-3.384-1.319-6.775-2.726-10.088-4.183c-12.007,6.883-25.724,10.521-39.684,10.521c-10.409,0-20.57-1.986-30.199-5.904
                    c-9.935-4.043-18.825-9.945-26.423-17.545l-21.623-21.623c-13.604-13.604-21.859-31.665-23.242-50.854
                    c-1.146-15.895,2.421-31.6,10.318-45.438c-1.459-3.316-2.867-6.713-4.188-10.103c-15.366-4.2-28.993-12.782-39.422-24.832
                    C6.935,349.729,0,331.122,0,311.882v-30.58c0-19.239,6.934-37.846,19.525-52.394c10.426-12.047,24.053-20.63,39.422-24.834
                    c1.316-3.377,2.725-6.774,4.188-10.102c-7.898-13.838-11.465-29.543-10.319-45.438c1.383-19.189,9.638-37.25,23.242-50.854
                    l21.623-21.623c7.603-7.602,16.493-13.504,26.424-17.544c9.629-3.918,19.789-5.904,30.199-5.904
                    c13.96,0,27.677,3.638,39.684,10.521c3.315-1.458,6.707-2.864,10.088-4.182c4.201-15.368,12.784-28.995,24.832-39.422
                    C243.455,6.934,262.062,0,281.302,0h30.58c19.238,0,37.846,6.934,52.394,19.525c12.049,10.429,20.631,24.056,24.831,39.422
                    c3.384,1.318,6.775,2.724,10.089,4.182c12.008-6.883,25.725-10.521,39.685-10.521c10.407,0,20.567,1.987,30.198,5.904
                    c9.935,4.043,18.824,9.946,26.423,17.545l21.623,21.624c13.604,13.604,21.859,31.665,23.243,50.854
                    c1.145,15.896-2.423,31.602-10.32,45.438c1.463,3.325,2.871,6.721,4.188,10.102c15.367,4.201,28.994,12.784,39.423,24.833
                    c12.591,14.547,19.524,33.154,19.524,52.394v30.58c0,19.239-6.934,37.847-19.524,52.395
                    c-10.429,12.049-24.056,20.631-39.423,24.832c-1.309,3.359-2.716,6.756-4.187,10.103c7.896,13.837,11.463,29.542,10.318,45.438
                    c-1.384,19.189-9.639,37.25-23.243,50.854L495.5,517.125c-7.598,7.599-16.487,13.502-26.423,17.545
                    c-9.63,3.918-19.79,5.904-30.198,5.904c-13.96,0-27.677-3.638-39.685-10.521c-3.326,1.462-6.718,2.868-10.089,4.183
                    c-4.2,15.366-12.782,28.992-24.831,39.421C349.727,586.248,331.121,593.183,311.881,593.183z M193.927,528.935l0.232,0.103
                    c3.45,1.521,6.987,2.987,10.514,4.358l0.235,0.092l0.066,0.244c4.124,15.272,12.626,28.817,24.587,39.17
                    c14.365,12.434,32.74,19.281,51.739,19.281h30.581c18.999,0,37.373-6.848,51.739-19.281c11.961-10.353,20.463-23.897,24.587-39.17
                    l0.065-0.244l0.235-0.092c3.513-1.365,7.051-2.832,10.515-4.359l0.232-0.102l0.22,0.127c11.908,6.877,25.534,10.513,39.404,10.513
                    c10.279,0,20.312-1.962,29.821-5.83c9.812-3.993,18.59-9.822,26.093-17.326l21.623-21.624
                    c13.435-13.434,21.586-31.269,22.952-50.219c1.137-15.779-2.43-31.37-10.313-45.087l-0.126-0.219l0.102-0.231
                    c1.537-3.486,3.005-7.028,4.363-10.527l0.091-0.236l0.244-0.065c15.274-4.125,28.82-12.627,39.173-24.588
                    c12.433-14.366,19.28-32.741,19.28-51.74v-30.58c0-19-6.848-37.374-19.28-51.739c-10.353-11.961-23.898-20.463-39.172-24.587
                    l-0.245-0.066l-0.091-0.236c-1.368-3.524-2.837-7.065-4.364-10.527l-0.103-0.232l0.126-0.219
                    c7.886-13.716,11.452-29.308,10.315-45.087c-1.366-18.95-9.518-36.784-22.952-50.219l-21.623-21.624
                    c-7.504-7.504-16.283-13.333-26.093-17.325c-9.51-3.869-19.543-5.831-29.821-5.831c-13.87,0-27.496,3.635-39.404,10.513
                    l-0.22,0.127l-0.232-0.103c-3.45-1.522-6.988-2.988-10.514-4.358l-0.236-0.092l-0.065-0.244
                    c-4.124-15.272-12.626-28.818-24.587-39.171C349.254,7.848,330.879,1,311.881,1h-30.58c-19,0-37.375,6.848-51.74,19.281
                    c-11.96,10.352-20.462,23.897-24.586,39.171l-0.066,0.244l-0.236,0.092c-3.525,1.369-7.062,2.835-10.514,4.358l-0.232,0.103
                    l-0.22-0.127c-11.907-6.877-25.533-10.513-39.403-10.513c-10.28,0-20.313,1.961-29.822,5.831
                    c-9.807,3.989-18.586,9.819-26.094,17.325L76.766,98.387c-13.434,13.435-21.585,31.27-22.952,50.22
                    c-1.138,15.778,2.429,31.37,10.314,45.087l0.126,0.219l-0.102,0.231c-1.528,3.466-2.997,7.007-4.365,10.527l-0.091,0.236
                    l-0.244,0.066c-15.275,4.127-28.821,12.629-39.171,24.589C7.848,243.929,1,262.303,1,281.302v30.58
                    c0,18.999,6.848,37.374,19.281,51.739c10.354,11.962,23.899,20.464,39.171,24.588l0.244,0.065l0.091,0.236
                    c1.373,3.532,2.841,7.074,4.365,10.526l0.102,0.231l-0.126,0.22c-7.885,13.719-11.452,29.31-10.314,45.088
                    c1.366,18.949,9.517,36.784,22.952,50.219l21.623,21.623c7.504,7.505,16.283,13.334,26.093,17.326
                    c9.509,3.868,19.542,5.83,29.822,5.83c13.87,0,27.496-3.636,39.404-10.513L193.927,528.935z M311.883,550.346h-30.58
                    c-18.366,0-34.202-13.706-36.835-31.882l-1.124-7.481c-0.834-5.562-4.83-10.238-10.178-11.911
                    c-12.016-3.76-23.771-8.636-34.94-14.491c-2.068-1.084-4.401-1.657-6.747-1.657c-3.146,0-6.279,1.034-8.821,2.913l-6.095,4.503
                    c-6.478,4.839-14.176,7.397-22.259,7.397c-9.948,0-19.299-3.872-26.329-10.902l-21.623-21.623
                    c-12.986-12.985-14.492-33.875-3.503-48.59l4.501-6.092c3.347-4.53,3.84-10.642,1.256-15.569
                    c-5.856-11.169-10.731-22.925-14.491-34.94c-1.674-5.348-6.349-9.343-11.912-10.179l-7.484-1.123
                    c-18.173-2.634-31.879-18.47-31.879-36.835v-30.58c0-18.366,13.706-34.201,31.881-36.835l7.481-1.124
                    c5.562-0.835,10.238-4.83,11.911-10.178c3.76-12.017,8.636-23.772,14.491-34.94c2.583-4.928,2.091-11.04-1.256-15.569
                    l-4.503-6.094c-10.988-14.713-9.482-35.602,3.505-48.588l21.623-21.623c7.03-7.03,16.38-10.902,26.327-10.902
                    c8.083,0,15.781,2.559,22.263,7.399l6.093,4.502c2.542,1.878,5.675,2.913,8.821,2.913c2.347,0,4.68-0.573,6.747-1.657
                    c11.169-5.856,22.925-10.731,34.94-14.491c5.349-1.673,9.344-6.349,10.178-11.911l1.124-7.484
                    c2.634-18.173,18.469-31.879,36.835-31.879h30.58c18.365,0,34.2,13.706,36.835,31.881l1.124,7.481
                    c0.835,5.563,4.83,10.238,10.179,11.911c12.015,3.759,23.77,8.635,34.94,14.491c2.067,1.084,4.4,1.657,6.746,1.657
                    c3.146,0,6.279-1.034,8.822-2.913l6.094-4.503c6.479-4.839,14.177-7.398,22.26-7.398c9.948,0,19.299,3.872,26.328,10.902
                    l21.623,21.623c12.986,12.985,14.492,33.875,3.504,48.59l-4.502,6.092c-3.347,4.53-3.84,10.641-1.257,15.569
                    c5.857,11.169,10.733,22.925,14.492,34.94c1.675,5.348,6.35,9.343,11.911,10.178l7.484,1.124
                    c18.173,2.634,31.879,18.469,31.879,36.835v30.58c0,18.365-13.706,34.201-31.882,36.836l-7.481,1.122
                    c-5.562,0.835-10.236,4.83-11.911,10.179c-3.759,12.015-8.635,23.77-14.492,34.94c-2.583,4.928-2.09,11.039,1.257,15.569
                    l4.504,6.094c10.986,14.714,9.48,35.603-3.506,48.588l-21.623,21.623c-7.03,7.03-16.381,10.902-26.328,10.902
                    c-8.081,0-15.779-2.559-22.262-7.399l-6.092-4.501c-2.544-1.879-5.677-2.913-8.822-2.913c-2.346,0-4.679,0.573-6.746,1.657
                    c-11.17,5.856-22.926,10.731-34.94,14.491c-5.349,1.673-9.344,6.349-10.179,11.911l-1.125,7.484
                    C346.085,536.64,330.25,550.346,311.883,550.346z M191.479,481.923c2.507,0,5,0.612,7.211,1.772
                    c11.116,5.827,22.816,10.68,34.775,14.421c5.711,1.787,9.977,6.779,10.869,12.718l1.124,7.484
                    c2.563,17.689,17.974,31.027,35.846,31.027h30.58c17.873,0,33.283-13.338,35.845-31.024l1.126-7.487
                    c0.891-5.938,5.157-10.931,10.868-12.718c11.958-3.741,23.658-8.594,34.774-14.421c2.211-1.16,4.704-1.772,7.211-1.772
                    c3.358,0,6.702,1.104,9.416,3.108l6.094,4.503c6.311,4.712,13.802,7.202,21.666,7.202c9.681,0,18.779-3.768,25.621-10.609
                    l21.623-21.623c12.637-12.636,14.103-32.964,3.41-47.285l-4.506-6.096c-3.572-4.836-4.098-11.363-1.337-16.628
                    c5.829-11.117,10.682-22.816,14.422-34.774c1.789-5.711,6.78-9.978,12.718-10.868l7.484-1.123
                    c17.689-2.564,31.027-17.975,31.027-35.847v-30.58c0-17.872-13.338-33.282-31.024-35.846l-7.487-1.124
                    c-5.938-0.892-10.929-5.157-12.718-10.868c-3.74-11.958-8.593-23.658-14.422-34.775c-2.761-5.265-2.235-11.792,1.337-16.627
                    l4.504-6.095c10.694-14.322,9.229-34.65-3.408-47.287l-21.623-21.623c-6.841-6.841-15.939-10.609-25.621-10.609
                    c-7.865,0-15.356,2.49-21.664,7.2l-6.096,4.505c-2.714,2.004-6.058,3.108-9.416,3.108c-2.507,0-5.001-0.612-7.211-1.771
                    c-11.117-5.829-22.816-10.681-34.774-14.423c-5.711-1.786-9.978-6.778-10.868-12.717l-1.125-7.484
                    c-2.564-17.689-17.975-31.027-35.846-31.027h-30.58c-17.872,0-33.282,13.338-35.845,31.025l-1.124,7.486
                    c-0.892,5.938-5.158,10.93-10.869,12.717c-11.958,3.742-23.659,8.594-34.775,14.423c-2.209,1.159-4.703,1.771-7.211,1.771
                    c-3.359,0-6.703-1.104-9.416-3.108l-6.095-4.503c-6.309-4.712-13.8-7.202-21.664-7.202c-9.682,0-18.781,3.768-25.622,10.609
                    l-21.623,21.623c-12.638,12.638-14.103,32.966-3.409,47.285l4.504,6.096c3.572,4.836,4.097,11.362,1.337,16.627
                    c-5.828,11.116-10.681,22.815-14.423,34.775c-1.787,5.711-6.778,9.977-12.717,10.868l-7.484,1.124
                    c-17.689,2.563-31.027,17.974-31.027,35.846v30.58c0,17.872,13.338,33.282,31.025,35.846l7.486,1.124
                    c5.938,0.892,10.93,5.158,12.717,10.868c3.742,11.959,8.594,23.659,14.422,34.774c2.761,5.266,2.236,11.792-1.337,16.628
                    l-4.503,6.094c-10.696,14.322-9.23,34.65,3.407,47.287l21.623,21.623c6.842,6.842,15.941,10.609,25.622,10.609
                    c7.866,0,15.356-2.49,21.663-7.2l6.096-4.505C184.776,483.026,188.12,481.923,191.479,481.923z"
                    />
                  </g>
                  <g>
                    <path
                      d="M176.287,417.503c15.611,15.61,33.802,27.872,54.067,36.443c21.003,8.884,43.289,13.388,66.238,13.388
                    c22.95,0,45.235-4.504,66.239-13.388c20.264-8.57,38.455-20.833,54.066-36.443c15.609-15.611,27.873-33.802,36.443-54.066
                    c8.883-21.004,13.387-43.289,13.387-66.238s-4.504-45.235-13.387-66.237c-8.57-20.265-20.834-38.455-36.443-54.066
                    c-15.611-15.611-33.803-27.873-54.066-36.444c-21.004-8.884-43.289-13.388-66.239-13.388c-22.949,0-45.235,4.504-66.238,13.387
                    c-20.265,8.571-38.456,20.833-54.067,36.444c-15.611,15.612-27.873,33.802-36.444,54.067
                    c-8.883,21.003-13.388,43.289-13.388,66.238s4.504,45.234,13.388,66.237C148.415,383.701,160.676,401.892,176.287,417.503z
                    M296.592,169.902c70.303,0,127.295,56.992,127.295,127.296s-56.992,127.296-127.295,127.296
                    c-70.304,0-127.296-56.992-127.296-127.296S226.288,169.902,296.592,169.902z"
                    />
                    <path
                      d="M296.592,467.834c-23.018,0-45.369-4.518-66.433-13.427c-20.325-8.597-38.569-20.895-54.226-36.551
                    c-15.657-15.657-27.954-33.901-36.551-54.227c-8.91-21.064-13.427-43.416-13.427-66.432c0-23.016,4.518-45.368,13.427-66.433
                    c8.596-20.323,20.894-38.567,36.551-54.226c15.656-15.656,33.9-27.954,54.226-36.551c21.064-8.909,43.416-13.427,66.433-13.427
                    s45.369,4.518,66.433,13.427c20.326,8.598,38.57,20.896,54.226,36.551c15.659,15.661,27.957,33.905,36.551,54.225
                    c8.908,21.064,13.426,43.416,13.426,66.432c0,23.016-4.518,45.367-13.426,66.433c-8.594,20.32-20.892,38.564-36.551,54.226
                    c-15.659,15.658-33.902,27.955-54.226,36.551C341.96,463.316,319.609,467.834,296.592,467.834z M296.592,127.562
                    c-22.882,0-45.103,4.491-66.043,13.348c-20.206,8.546-38.343,20.772-53.908,36.337c-15.566,15.567-27.791,33.704-36.337,53.908
                    c-8.857,20.941-13.348,43.161-13.348,66.043s4.491,45.102,13.348,66.043c8.546,20.205,20.772,38.343,36.337,53.908
                    c15.565,15.564,33.703,27.79,53.908,36.336c20.94,8.857,43.16,13.349,66.043,13.349c22.882,0,45.103-4.491,66.044-13.349
                    c20.203-8.544,38.34-20.77,53.907-36.336c15.567-15.569,27.793-33.707,36.336-53.907c8.857-20.942,13.348-43.162,13.348-66.044
                    c0-22.882-4.49-45.102-13.348-66.042c-8.543-20.201-20.769-38.338-36.336-53.908c-15.564-15.564-33.701-27.79-53.907-36.337
                    C341.695,132.054,319.474,127.562,296.592,127.562z M296.592,424.994c-70.467,0-127.796-57.329-127.796-127.796
                    s57.329-127.796,127.796-127.796c70.466,0,127.795,57.329,127.795,127.796S367.058,424.994,296.592,424.994z M296.592,170.402
                    c-69.916,0-126.796,56.88-126.796,126.796c0,69.915,56.88,126.796,126.796,126.796s126.795-56.881,126.795-126.796
                    C423.387,227.283,366.507,170.402,296.592,170.402z"
                    />
                  </g>
                </g>
              </svg>
            </button>

            <div
              className={`recipe__overlay ${
                userControls ? 'recipe__overlay--active' : ''
              }`}
            />

            <ul
              className={`recipe__options ${
                userControls ? 'recipe__options--active' : ''
              }`}
            >
              <li className="recipe__option">
                <Link className="recipe__option-item" to={`/recipe/${id}/edit`}>
                  Edit
                </Link>
              </li>

              <li className="recipe__option recipe__option--mobile">
                <button
                  className="recipe__option-item"
                  type="button"
                  onClick={() => setUserControls(false)}
                >
                  Cancel
                </button>
              </li>
            </ul>
          </div>
        ) : null}

        <img
          className="recipe__img"
          src={`/img/${mainImage}`}
          alt="Recipe Example"
        />

        <h1 className="recipe__title">{title}</h1>

        <div className="recipe__summary">{summary}</div>

        <Rating
          entityId={entityId}
          avgRating={avgRating}
          userRating={userRating}
          totalRatings={ratingCount}
          disabled={isPreview}
        />

        <div className="recipe__stats">
          <span className="recipe__cook">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              className="recipe__cookicon"
              viewBox="0 0 24 24"
            >
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z" />
            </svg>
            {cookTime} min
          </span>
          <span className="recipe__prep">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              className="recipe__cookicon"
              viewBox="0 0 24 24"
            >
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z" />
            </svg>
            {prepTime} min
          </span>
        </div>

        <Link className="recipe__author" to={`/account/profile/${author}`}>
          <img
            className="recipe__author-img"
            src="https://cdn.dribbble.com/users/2527772/screenshots/11920939/media/24291b3fd033123e1507cbff2080e59e.png"
            alt="User Profile"
          />
          <div className="recipe__author-name">{authorName}</div>
          <div className="recipe__arrow" />
        </Link>
      </header>

      <div className="recipe__ingredients">
        <h2 className="recipe__subtitle">Ingredents</h2>

        <ul className="recipe__list recipe__list--ingredients">
          {ingredients.split('\n').map((ingredient: string) => (
            <li className="recipe__item recipe__item--ingredient">
              {ingredient}
            </li>
          ))}
        </ul>
      </div>

      <div className="recipe__directions">
        <h3 className="recipe__subtitle">Directions</h3>
        <ul className="recipe__list recipe__list--direction">
          {directions.split('\n').map((step: string, index: number) => (
            <li className="recipe__item recipe__item--direction">
              <span className="recipe__step">Step {index + 1}</span>
              {step}
            </li>
          ))}
        </ul>
      </div>

      <div className="recipe__facts">
        <h2 className="recipe__subtitle">Nutrition Facts</h2>

        <div className="recipe__nutrition">
          <ul className="recipe__list recipe__list--facts">
            <li className="recipe__item recipe__item--facts recipe__items--missing">
              No facts are availble at this time.
            </li>
          </ul>
        </div>
      </div>
    </div>
  );
};

Recipe.defaultProps = {
  onPreviewClose: null,
};
export default Recipe;
